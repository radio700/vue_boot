<template>
  <div>
    <button @click="postExample">post_click</button>
    <!-- <button @click="getExample">get_click</button> -->
    <p>ì„œë²„ì‘ë‹µ {{ result }}</p>
  </div>
</template>

<script setup>
import axios from 'axios'
import { reactive, ref } from 'vue'

const result = ref("")

const obj = {color : "red"}

const postExample = async() =>{
  try{
    const res = await axios.post("/api/postProducts",obj,{
      headers :{
        "Content-Type" : "application/json"
      }
    })
    result.value = res.data;
  } catch(e) {
    console.error(e)
    result.value = "ì—ëŸ¬"
  }
}


// let obj = "asdf"

// function postExample() {
//   axios.post('/api/postProducts', obj,{
//     headers : {
//       "Content-Type" : "application/json"
//     }
//   })
//   .then((res) => {
//     // console.log("ğŸš€ ~ postExample JSON.stringify", JSON.stringify(obj))
//     console.log('ğŸš€ ~ res.data:', res.data)
//     })
//     .catch((res) => {
//       console.log('ğŸš€ ~ error', res)
//     })
// }



// const message = ref('')
// const error = ref('')

// const getExample = async () => {
//   console.log('get')
//   message.value = ''
//   error.value = ''

//   try {
//     // Vite í”„ë¡ì‹œ ì„¤ì • ë•ë¶„ì— 'http://localhost:8080'ì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
//     const response = await axios.get('/api/getProducts')
//     console.debug('ğŸš€ ~ testApi ~ response:', response)
//     message.value = response.data.message
//   } catch (err) {
//     console.error('API í˜¸ì¶œ ì‹¤íŒ¨:', err)
//     error.value = 'ë°±ì—”ë“œ ì—°ê²° ì‹¤íŒ¨. í”„ë¡ì‹œ ë° CORS ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.'
//   }
// }
</script>
